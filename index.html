<!DOCTYPE html>
<html>
<head>
    <title>Asynchronous JavaScript</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
	 crossorigin="anonymous">
</head>
<body>
    <!-- TODO
        Demonstrate async with 
            - setTimeout()
            - callback hell
            - jQuery deferred
            - jQuery promises
            - ES6 promises
            - async/await
            - .done() can be used w/o ajax (e.g. for animations)
            - https://stackoverflow.com/questions/19359763/done-after-animate-callback-function -->

    <h1 style="text-align: center">Asynchronous JavaScript</h1>
    <h3>What is "asynchronous" JavaScript?</h3>
    <ul>
        <li>
            Code that doesn't have to finish running in the order for the next line to run. This allows the async portions to not block the code after it.
        </li>
    </ul>
    <h3>setTimeout()</h3>
    <ul>
        <li>
            Simple to create
        </li>
        <li>
            Runs a function after the amount of time specified by the programmer.
        </li>
    </ul>
    <h3>Callback</h3>
    <ul>
        <li>
            A function that runs after another function finishes.
        </li>
        <li>
            Some JS and JQ functions that have a duration greater than zero take a callback as a parameter. (e.g. setTimeout(), or animate())
        </li>
    </ul>
    <h3>Promise</h3>
    <ul>
        <li>
            Object that keeps track of whether a certain async event has happened or not
        </li>
        <li>
            Determines what to do after event happens
        </li>
        <li>
            Tells code to expect a future vaule (e.g. data coming back from server)
        </li>
        <h4>Steps</h4>
        <ol>
            <li>
                Pending: Promise object (which is stored in a var) watches for an event to occur (i.e. data to be returned). In the meantime, the next lines of code are run.
            </li>
            <li>
                Resolved: The event the promise was waiting for has happened. If the promise was successful (e.g. data was returned), the promise is fulfilled, and .resolve will be run. If the promise was rejected (e.g. no data returned), .reject() will run. 
            </li>
            <li>
                Consume the promise: Use .then() or .catch() to specify what to do after promise resolves on the promise object.
            </li>
            <li>
                .then() methods can be chained to control the order async function execution.
            </li>
        </ol>
    </ul>
    <h3>Demos</h3>
    <ul>
        <li>
            <a href="demo.html" target="_blank">Demo page</a>
        </li>
    </ul>
    <h3>References</h3>
    <ul>
        <li>
            <a href="https://www.pluralsight.com/guides/introduction-to-asynchronous-javascript" target="_blank">Introduction to Asynchronous JavaScript</a>
        </li>
        <li>
            <a href="https://cors-anywhere.herokuapp.com/" target="blank">An API to allow CORS for any site</a>
        </li>
        <li>
            <a href="https://www.metaweather.com/api/" target="_blank">metaweather API doc</a>
        </li>
        <li>
            <a href="https://codesandbox.io/s/6jq5l3lq0r">Async/await example using Axios (thanks, Clay!)</a>
        </li>

        <!-- <li>
            <a href="https://corsproxy.github.io/">Another CORS proxy</a>
        </li> -->

        <!-- <li>
            <a href="https://youtu.be/ay_qbDuIHNk" target="_blank">jQuery Deferred video</a> (not covered in this lesson)
        </li>
        <li>
            <a href="https://stackoverflow.com/questions/17308172/deferred-versus-promise" target="_blank">Deferred vs Promise</a>
        </li> -->
    </ul>
</body>
</html>